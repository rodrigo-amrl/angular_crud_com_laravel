<div class="container">


  <h1>Editar Cliente {{empresa.nome}}</h1>


  <form [formGroup]="form" (ngSubmit)="submit()">

    <div class="row justify-content-center">
      <div class=" col-md-3">
        <label for="nome">Nome:</label>
        <input formControlName="nome" id="nome" type="text" [(ngModel)]="empresa.nome" class="form-control">
        <div *ngIf="f['nome'].touched && f['nome'].invalid" class="alert alert-danger">
          <div *ngIf="f['nome'].errors && f['nome'].errors['required']">Nome é Obrigatório.</div>
        </div>
      </div>
      <div class=" col-md-3">
        <label for="cnpj">CNPJ:</label>
        <input formControlName="cnpj" [(ngModel)]="empresa.cnpj" id="cnpj" type="text" class="form-control">
        <div *ngIf="f['cnpj'].touched && f['cnpj'].invalid" class="alert alert-danger">
          <div *ngIf="f['cnpj'].errors && f['cnpj'].errors['required']">CNPJ é Obrigatório.</div>
        </div>
      </div>

    </div>
    <div class="row justify-content-center mt-2">

      <div class=" col-md-6">
        <label for="endereco">Endereço:</label>
        <input formControlName="endereco" [(ngModel)]="empresa.endereco" id="endereco" type="text" class="form-control">
        <div *ngIf="f['endereco'].touched && f['endereco'].invalid" class="alert alert-danger">
          <div *ngIf="f['endereco'].errors && f['endereco'].errors['required']">Endereço é Obrigatório.</div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center mt-4">
      <div class="col-md-12">
        <a href="#" routerLink="/empresa/index" class="btn btn-primary ">Voltar</a>
        <button class="btn btn-success ms-2" type="submit" [disabled]="!form.valid">Salvar</button>
      </div>
    </div>

  </form>
</div>

<ng-container>
  <div class="row justify-content-center">
    <div class="card text-center text-dark bg-light mb-3 mt-3  col-md-5 ">
      <div class="card-header card-d">
        <a [routerLink]="['/empresa/add-cliente', empresa.id, 'edit']" class="btn btn-success float-end"><i class="fa fa-plus"> </i> Novo
          Cliente</a>
        <h5 class="card-title">Clientes Vinculados a {{empresa.nome}}</h5>
        <p class="card-text">Navegue pela lista de clientes.</p>
      </div>
      <div class="card-body">

        <table class="table table-striped">
          <tr>
            <th>Id</th>
            <th>Nome</th>
            <th>CNPJ</th>
            <th>Criado Em</th>
          </tr>
          <tr *ngFor="let cliente of empresa.clientes">
            <td>{{ cliente.id }}</td>
            <td>{{ cliente.nome }}</td>
            <td>{{ cliente.cpf }}</td>
            <td>{{cliente.created_at | date:'d/MM/Y' }}</td>
          </tr>
        </table>
      </div>
      <div class="card-footer text-muted">
      </div>
    </div>
    <div class="card text-center text-dark bg-light mb-3 mt-3  col-md-5 ms-1">
      <div class="card-header card-d">
        <a [routerLink]="['/empresa/add-funcionario', empresa.id, 'edit']" class="btn btn-success float-end"><i class="fa fa-plus"> </i> Novo
          Funcionario</a>
        <h5 class="card-title">Funcionários vinculados a {{empresa.nome}}</h5>
        <p class="card-text">Navegue pela lista de funcionários.</p>
      </div>
      <div class="card-body">

        <table class="table table-striped">
          <tr>
            <th>Id</th>
            <th>Nome</th>
            <th>CNPJ</th>
            <th>Criado Em</th>
          </tr>
          <tr *ngFor="let funcionario of empresa.funcionarios">
            <td>{{ funcionario.id }}</td>
            <td>{{ funcionario.nome }}</td>
            <td>{{ funcionario.cpf }}</td>
            <td>{{funcionario.created_at | date:'d/MM/Y' }}</td>
          </tr>
        </table>
      </div>
      <div class="card-footer text-muted">
      </div>
    </div>
  </div>

</ng-container>
